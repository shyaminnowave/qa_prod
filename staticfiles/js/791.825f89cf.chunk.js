"use strict";(self.webpackChunkqa_portal=self.webpackChunkqa_portal||[]).push([[791],{791:(e,s,l)=>{l.r(s),l.d(s,{default:()=>t});var n=l(5043),i=l(22),a=l(3003),c=l(9120),r=l(7111),d=l(3401),o=l(579);const t=function(){const e=(0,a.d4)((e=>e.RoleAndPermissionReducer.roles)),s=(0,a.d4)((e=>e.RoleAndPermissionReducer.permissions)),l=(0,a.wA)(),[t,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[v,x]=(0,n.useState)(""),[j,_]=(0,n.useState)(""),[p,N]=(0,n.useState)([]);return(0,n.useEffect)((()=>{l((0,c.HS)()),l((0,c.u7)())}),[]),(0,o.jsx)("div",{className:"role_mangement",children:(0,o.jsxs)("div",{className:"inner_role_mangement",children:[(0,o.jsx)("div",{className:"roles",children:(0,o.jsx)("table",{border:1,children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{className:"column_name",children:(0,o.jsx)("th",{children:"Role"})}),e&&(null===e||void 0===e?void 0:e.map(((e,s)=>(0,o.jsx)("tr",{className:"column_value",children:(0,o.jsx)("th",{children:null===e||void 0===e?void 0:e.name})},s))))]})})}),(0,o.jsxs)("div",{className:"create_edit",children:[(0,o.jsxs)("div",{className:"button",children:[(0,o.jsx)("button",{className:t?"colour":"normal",onClick:()=>{m(!0),h(!1)},children:"Create Role"}),(0,o.jsx)("button",{className:u?"colour":"normal",onClick:()=>{h(!0),m(!1)},children:"Edit Role"})]}),t&&(0,o.jsxs)("div",{className:"create_section",children:[(0,o.jsx)("div",{className:"add_role",children:(0,o.jsx)("input",{type:"text",placeholder:"Create Role",onChange:e=>x(e.target.value)})}),(0,o.jsxs)("div",{className:"add_permissions",children:[(0,o.jsx)("div",{className:"list_of_permissions",children:(0,o.jsx)("table",{border:1,children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{className:"column_name",children:(0,o.jsx)("th",{children:"Permissions"})}),s&&(null===s||void 0===s?void 0:s.map(((e,s)=>(0,o.jsx)("tr",{className:"column_value ".concat(p.includes(e)?"selected":""),onClick:()=>{return s=e,void(p.includes(s)?N(p.filter((e=>e!==s))):N([...p,s]));var s},children:(0,o.jsx)("th",{children:null===e||void 0===e?void 0:e.name})},s))))]})})}),(0,o.jsx)("div",{className:"added_list_of_permissions",children:(0,o.jsx)("table",{border:1,children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{className:"column_name",children:(0,o.jsx)("th",{children:" Added Permissions"})}),p&&p.map(((e,s)=>(0,o.jsx)("tr",{className:"column_value",children:(0,o.jsx)("th",{children:null===e||void 0===e?void 0:e.name})})))]})})})]}),(0,o.jsx)("div",{className:"button_",children:(0,o.jsx)("button",{onClick:async function(e){e.preventDefault();const s=null===p||void 0===p?void 0:p.map((e=>e.id));try{var n;const e=await i.A.post("/create-group/",{name:v,permissions:s});console.log(e),!0===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.success)&&d.oR.success("Role created")}catch(a){console.log(a),d.oR.error("Error")}finally{m(!1),N([]),l((0,c.HS)())}},children:"Add role"})})]}),u&&(0,o.jsx)(r.A,{})]})]})})}}}]);
//# sourceMappingURL=791.825f89cf.chunk.js.map